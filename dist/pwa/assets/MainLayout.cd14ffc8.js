import{h as k,c as M,u as Ne,a as je,d as i,e as re,g as K,f as Ue,i as Je,j as Ke,k as be,r as S,l as Ge,m as vt,T as $e,w as y,n as ve,o as ht,p as Ve,q as le,s as mt,t as We,v as ie,x as gt,y as Xe,z as _t,A as Ye,B as Ze,Q as me,C as Le,D as ae,E as bt,F as yt,G as wt,H as ye,I as Y,J as ge,K as n,L as l,M as oe,N as et,O as pt,P as kt,R as xt,S as St,_ as tt,U as qt,V as at,W as Ct,X as $t,Y as lt,Z as T,$ as ot,a0 as Lt,a1 as ne,a2 as Tt,a3 as zt,a4 as Bt,a5 as Ot,a6 as Pt,a7 as Qt,a8 as He,a9 as Ae,aa as De,ab as Vt,ac as Wt,ad as Ht,ae as At,af as I,ag as Te,ah as Be,ai as Dt,aj as Ft,ak as It,al as Mt,am as Rt}from"./index.5afe2a78.js";import{Q as z,a as L,b as Fe,c as Oe,u as Et,v as Ie,d as Nt,p as Me,e as jt,f as Ut,r as Re,s as Jt,g as Kt}from"./QItemLabel.e9c787d8.js";const Gt=k("div",{class:"q-space"});var nt=M({name:"QSpace",setup(){return()=>Gt}}),_e=M({name:"QList",props:{...Ne,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(e,{slots:b}){const c=K(),s=je(e,c.proxy.$q),t=i(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(s.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>k("div",{class:t.value},re(b.default))}}),he=M({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:b}){const c=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>k("div",{class:c.value},re(b.default))}});const Ee=150;var Xt=M({name:"QDrawer",inheritAttrs:!1,props:{...Ue,...Ne,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Je,"on-layout","mini-state"],setup(e,{slots:b,emit:c,attrs:s}){const t=K(),{proxy:{$q:u}}=t,p=je(e,u),{preventBodyScroll:w}=gt(),{registerTimeout:x}=Ke(),o=be(ie,()=>{console.error("QDrawer needs to be child of QLayout")});let V,W,Q;const m=S(e.behavior==="mobile"||e.behavior!=="desktop"&&o.totalWidth.value<=e.breakpoint),$=i(()=>e.mini===!0&&m.value!==!0),_=i(()=>$.value===!0?e.miniWidth:e.width),v=S(e.showIfAbove===!0&&m.value===!1?!0:e.modelValue===!0),H=i(()=>e.persistent!==!0&&(m.value===!0||we.value===!0));function d(a,h){if(g(),a!==!1&&o.animate(),A(0),m.value===!0){const P=o.instances[G.value];P!==void 0&&P.belowBreakpoint===!0&&P.hide(!1),j(1),o.isContainer.value!==!0&&w(!0)}else j(0),a!==!1&&Se(!1);x(()=>{a!==!1&&Se(!0),h!==!0&&c("show",a)},Ee)}function q(a,h){D(),a!==!1&&o.animate(),j(0),A(F.value*_.value),qe(),h!==!0&&x(()=>{c("hide",a)},Ee)}const{show:f,hide:r}=Ge({showing:v,hideOnRouteChange:H,handleShow:d,handleHide:q}),{addToHistory:g,removeFromHistory:D}=vt(v,r,H),B={belowBreakpoint:m,hide:r},O=i(()=>e.side==="right"),F=i(()=>(u.lang.rtl===!0?-1:1)*(O.value===!0?1:-1)),Z=S(0),R=S(!1),ee=S(!1),ue=S(_.value*F.value),G=i(()=>O.value===!0?"left":"right"),X=i(()=>v.value===!0&&m.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:_.value:0),E=i(()=>e.overlay===!0||e.miniToOverlay===!0||o.view.value.indexOf(O.value?"R":"L")>-1||u.platform.is.ios===!0&&o.isContainer.value===!0),J=i(()=>e.overlay===!1&&v.value===!0&&m.value===!1),we=i(()=>e.overlay===!0&&v.value===!0&&m.value===!1),pe=i(()=>"fullscreen q-drawer__backdrop"+(v.value===!1&&R.value===!1?" hidden":"")),se=i(()=>({backgroundColor:`rgba(0,0,0,${Z.value*.4})`})),de=i(()=>O.value===!0?o.rows.value.top[2]==="r":o.rows.value.top[0]==="l"),ke=i(()=>O.value===!0?o.rows.value.bottom[2]==="r":o.rows.value.bottom[0]==="l"),C=i(()=>{const a={};return o.header.space===!0&&de.value===!1&&(E.value===!0?a.top=`${o.header.offset}px`:o.header.space===!0&&(a.top=`${o.header.size}px`)),o.footer.space===!0&&ke.value===!1&&(E.value===!0?a.bottom=`${o.footer.offset}px`:o.footer.space===!0&&(a.bottom=`${o.footer.size}px`)),a}),te=i(()=>{const a={width:`${_.value}px`,transform:`translateX(${ue.value}px)`};return m.value===!0?a:Object.assign(a,C.value)}),N=i(()=>"q-drawer__content fit "+(o.isContainer.value!==!0?"scroll":"overflow-auto")),ce=i(()=>`q-drawer q-drawer--${e.side}`+(ee.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(p.value===!0?" q-drawer--dark q-dark":"")+(R.value===!0?" no-transition":v.value===!0?"":" q-layout--prevent-focus")+(m.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${$.value===!0?"mini":"standard"}`+(E.value===!0||J.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(de.value===!0?" q-drawer--top-padding":""))),it=i(()=>{const a=u.lang.rtl===!0?e.side:G.value;return[[$e,ct,void 0,{[a]:!0,mouse:!0}]]}),ut=i(()=>{const a=u.lang.rtl===!0?G.value:e.side;return[[$e,Qe,void 0,{[a]:!0,mouse:!0}]]}),st=i(()=>{const a=u.lang.rtl===!0?G.value:e.side;return[[$e,Qe,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function xe(){ft(m,e.behavior==="mobile"||e.behavior!=="desktop"&&o.totalWidth.value<=e.breakpoint)}y(m,a=>{a===!0?(V=v.value,v.value===!0&&r(!1)):e.overlay===!1&&e.behavior!=="mobile"&&V!==!1&&(v.value===!0?(A(0),j(0),qe()):f(!1))}),y(()=>e.side,(a,h)=>{o.instances[h]===B&&(o.instances[h]=void 0,o[h].space=!1,o[h].offset=0),o.instances[a]=B,o[a].size=_.value,o[a].space=J.value,o[a].offset=X.value}),y(o.totalWidth,()=>{(o.isContainer.value===!0||document.qScrollPrevented!==!0)&&xe()}),y(()=>e.behavior+e.breakpoint,xe),y(o.isContainer,a=>{v.value===!0&&w(a!==!0),a===!0&&xe()}),y(o.scrollbarWidth,()=>{A(v.value===!0?0:void 0)}),y(X,a=>{U("offset",a)}),y(J,a=>{c("on-layout",a),U("space",a)}),y(O,()=>{A()}),y(_,a=>{A(),Ce(e.miniToOverlay,a)}),y(()=>e.miniToOverlay,a=>{Ce(a,_.value)}),y(()=>u.lang.rtl,()=>{A()}),y(()=>e.mini,()=>{e.modelValue===!0&&(dt(),o.animate())}),y($,a=>{c("mini-state",a)});function A(a){a===void 0?Ve(()=>{a=v.value===!0?0:_.value,A(F.value*a)}):(o.isContainer.value===!0&&O.value===!0&&(m.value===!0||Math.abs(a)===_.value)&&(a+=F.value*o.scrollbarWidth.value),ue.value=a)}function j(a){Z.value=a}function Se(a){const h=a===!0?"remove":o.isContainer.value!==!0?"add":"";h!==""&&document.body.classList[h]("q-body--drawer-toggle")}function dt(){clearTimeout(W),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),ee.value=!0,W=setTimeout(()=>{ee.value=!1,t&&t.proxy&&t.proxy.$el&&t.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function ct(a){if(v.value!==!1)return;const h=_.value,P=ve(a.distance.x,0,h);if(a.isFinal===!0){P>=Math.min(75,h)===!0?f():(o.animate(),j(0),A(F.value*h)),R.value=!1;return}A((u.lang.rtl===!0?O.value!==!0:O.value)?Math.max(h-P,0):Math.min(0,P-h)),j(ve(P/h,0,1)),a.isFirst===!0&&(R.value=!0)}function Qe(a){if(v.value!==!0)return;const h=_.value,P=a.direction===e.side,fe=(u.lang.rtl===!0?P!==!0:P)?ve(a.distance.x,0,h):0;if(a.isFinal===!0){Math.abs(fe)<Math.min(75,h)===!0?(o.animate(),j(1),A(0)):r(),R.value=!1;return}A(F.value*fe),j(ve(1-fe/h,0,1)),a.isFirst===!0&&(R.value=!0)}function qe(){w(!1),Se(!0)}function U(a,h){o.update(e.side,a,h)}function ft(a,h){a.value!==h&&(a.value=h)}function Ce(a,h){U("size",a===!0?e.miniWidth:h)}return o.instances[e.side]=B,Ce(e.miniToOverlay,_.value),U("space",J.value),U("offset",X.value),e.showIfAbove===!0&&e.modelValue!==!0&&v.value===!0&&e["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!0),ht(()=>{c("on-layout",J.value),c("mini-state",$.value),V=e.showIfAbove===!0;const a=()=>{(v.value===!0?d:q)(!1,!0)};if(o.totalWidth.value!==0){Ve(a);return}Q=y(o.totalWidth,()=>{Q(),Q=void 0,v.value===!1&&e.showIfAbove===!0&&m.value===!1?f(!1):a()})}),le(()=>{Q!==void 0&&Q(),clearTimeout(W),v.value===!0&&qe(),o.instances[e.side]===B&&(o.instances[e.side]=void 0,U("size",0),U("offset",0),U("space",!1))}),()=>{const a=[];m.value===!0&&(e.noSwipeOpen===!1&&a.push(mt(k("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),it.value)),a.push(We("div",{ref:"backdrop",class:pe.value,style:se.value,"aria-hidden":"true",onClick:r},void 0,"backdrop",e.noSwipeBackdrop!==!0&&v.value===!0,()=>st.value)));const h=$.value===!0&&b.mini!==void 0,P=[k("div",{...s,key:""+h,class:[N.value,s.class]},h===!0?b.mini():re(b.default))];return e.elevated===!0&&v.value===!0&&P.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(We("aside",{ref:"content",class:ce.value,style:te.value},P,"contentclose",e.noSwipeClose!==!0&&m.value===!0,()=>ut.value)),k("div",{class:"q-drawer-container"},a)}}}),Yt=M({name:"QPageContainer",setup(e,{slots:b}){const{proxy:{$q:c}}=K(),s=be(ie,()=>{console.error("QPageContainer needs to be child of QLayout")});Xe(_t,!0);const t=i(()=>{const u={};return s.header.space===!0&&(u.paddingTop=`${s.header.size}px`),s.right.space===!0&&(u[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${s.right.size}px`),s.footer.space===!0&&(u.paddingBottom=`${s.footer.size}px`),s.left.space===!0&&(u[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${s.left.size}px`),u});return()=>k("div",{class:"q-page-container",style:t.value},re(b.default))}}),Zt=M({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:b,emit:c}){const{proxy:{$q:s}}=K(),t=be(ie,()=>{console.error("QFooter needs to be child of QLayout")}),u=S(parseInt(e.heightHint,10)),p=S(!0),w=S(Ye.value===!0||t.isContainer.value===!0?0:window.innerHeight),x=i(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||s.platform.is.ios&&t.isContainer.value===!0),o=i(()=>t.isContainer.value===!0?t.containerHeight.value:w.value),V=i(()=>{if(e.modelValue!==!0)return 0;if(x.value===!0)return p.value===!0?u.value:0;const r=t.scroll.value.position+o.value+u.value-t.height.value;return r>0?r:0}),W=i(()=>e.modelValue!==!0||x.value===!0&&p.value!==!0),Q=i(()=>e.modelValue===!0&&W.value===!0&&e.reveal===!0),m=i(()=>"q-footer q-layout__section--marginal "+(x.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(W.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(x.value!==!0?" hidden":""):"")),$=i(()=>{const r=t.rows.value.bottom,g={};return r[0]==="l"&&t.left.space===!0&&(g[s.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),r[2]==="r"&&t.right.space===!0&&(g[s.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),g});function _(r,g){t.update("footer",r,g)}function v(r,g){r.value!==g&&(r.value=g)}function H({height:r}){v(u,r),_("size",r)}function d(){if(e.reveal!==!0)return;const{direction:r,position:g,inflectionPoint:D}=t.scroll.value;v(p,r==="up"||g-D<100||t.height.value-o.value-g-u.value<300)}function q(r){Q.value===!0&&v(p,!0),c("focusin",r)}y(()=>e.modelValue,r=>{_("space",r),v(p,!0),t.animate()}),y(V,r=>{_("offset",r)}),y(()=>e.reveal,r=>{r===!1&&v(p,e.modelValue)}),y(p,r=>{t.animate(),c("reveal",r)}),y([u,t.scroll,t.height],d),y(()=>s.screen.height,r=>{t.isContainer.value!==!0&&v(w,r)});const f={};return t.instances.footer=f,e.modelValue===!0&&_("size",u.value),_("space",e.modelValue),_("offset",V.value),le(()=>{t.instances.footer===f&&(t.instances.footer=void 0,_("size",0),_("offset",0),_("space",!1))}),()=>{const r=Ze(b.default,[k(me,{debounce:0,onResize:H})]);return e.elevated===!0&&r.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),k("footer",{class:m.value,style:$.value,onFocusin:q},r)}}}),ea=M({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:b,emit:c}){const{proxy:{$q:s}}=K(),t=S(null),u=S(s.screen.height),p=S(e.container===!0?0:s.screen.width),w=S({position:0,direction:"down",inflectionPoint:0}),x=S(0),o=S(Ye.value===!0?0:Le()),V=i(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),W=i(()=>e.container===!1?{minHeight:s.screen.height+"px"}:null),Q=i(()=>o.value!==0?{[s.lang.rtl===!0?"left":"right"]:`${o.value}px`}:null),m=i(()=>o.value!==0?{[s.lang.rtl===!0?"right":"left"]:0,[s.lang.rtl===!0?"left":"right"]:`-${o.value}px`,width:`calc(100% + ${o.value}px)`}:null);function $(f){if(e.container===!0||document.qScrollPrevented!==!0){const r={position:f.position.top,direction:f.direction,directionChanged:f.directionChanged,inflectionPoint:f.inflectionPoint.top,delta:f.delta.top};w.value=r,e.onScroll!==void 0&&c("scroll",r)}}function _(f){const{height:r,width:g}=f;let D=!1;u.value!==r&&(D=!0,u.value=r,e.onScrollHeight!==void 0&&c("scroll-height",r),H()),p.value!==g&&(D=!0,p.value=g),D===!0&&e.onResize!==void 0&&c("resize",f)}function v({height:f}){x.value!==f&&(x.value=f,H())}function H(){if(e.container===!0){const f=u.value>x.value?Le():0;o.value!==f&&(o.value=f)}}let d;const q={instances:{},view:i(()=>e.view),isContainer:i(()=>e.container),rootRef:t,height:u,containerHeight:x,scrollbarWidth:o,totalWidth:i(()=>p.value+o.value),rows:i(()=>{const f=e.view.toLowerCase().split(" ");return{top:f[0].split(""),middle:f[1].split(""),bottom:f[2].split("")}}),header:ae({size:0,offset:0,space:!1}),right:ae({size:300,offset:0,space:!1}),footer:ae({size:0,offset:0,space:!1}),left:ae({size:300,offset:0,space:!1}),scroll:w,animate(){d!==void 0?clearTimeout(d):document.body.classList.add("q-body--layout-animate"),d=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),d=void 0},155)},update(f,r,g){q[f][r]=g}};if(Xe(ie,q),Le()>0){let g=function(){f=null,r.classList.remove("hide-scrollbar")},D=function(){if(f===null){if(r.scrollHeight>s.screen.height)return;r.classList.add("hide-scrollbar")}else clearTimeout(f);f=setTimeout(g,300)},B=function(O){f!==null&&O==="remove"&&(clearTimeout(f),g()),window[`${O}EventListener`]("resize",D)},f=null;const r=document.body;y(()=>e.container!==!0?"add":"remove",B),e.container!==!0&&B("add"),bt(()=>{B("remove")})}return()=>{const f=Ze(b.default,[k(yt,{onScroll:$}),k(me,{onResize:_})]),r=k("div",{class:V.value,style:W.value,ref:e.container===!0?void 0:t,tabindex:-1},f);return e.container===!0?k("div",{class:"q-layout-container overflow-hidden",ref:t},[k(me,{onResize:v}),k("div",{class:"absolute-full",style:Q.value},[k("div",{class:"scroll",style:m.value},[r])])]):r}}});const Pe=wt("friend-list",new Set,{serializer:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify([...e])}}),ta=i(()=>[...Pe.value].map(e=>({id:e,highlight:ze.has(e)})));function aa(e){Pe.value.add(e),ze.add(e),setTimeout(()=>ze.delete(e),1e3)}function la(e){Pe.value.delete(e)}const ze=ae(new Set),oa=ye({__name:"AddFriendInput",setup(e){const b=S("");function c(s){var u;const t=typeof s=="string"?(u=pt.exec(s))==null?void 0:u[0]:void 0;t&&setTimeout(()=>{aa(t),b.value=""},0)}return(s,t)=>(Y(),ge(et,{rounded:"",outlined:"",dense:"",class:"WAL__field full-width",modelValue:b.value,"onUpdate:modelValue":[t[0]||(t[0]=u=>b.value=u),c],placeholder:"Paste your friend's peer ID"},{prepend:n(()=>[l(oe,{name:"person_add",class:"q-mr-xs"})]),_:1},8,["modelValue"]))}});var rt=M({name:"QAvatar",props:{...kt,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:b}){const c=xt(e),s=i(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),t=i(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const u=e.icon!==void 0?[k(oe,{name:e.icon})]:void 0;return k("div",{class:s.value,style:c.value},[k("div",{class:"q-avatar__content row flex-center overflow-hidden",style:t.value},St(b.default,u))])}}});const na=T(" caption "),ra=T("Edit Name"),ia=T("Copy peer ID"),ua=T("Remove"),sa=ye({__name:"FriendList",setup(e){const b=i(()=>[...ta.value].reverse());return(c,s)=>(Y(),ge(zt,{style:{height:"calc(100% - 100px)"}},{default:n(()=>[l(_e,null,{default:n(()=>[l(qt,{"enter-active-class":"animated lightSpeedInRight","leave-active-class":"animated lightSpeedOutRight"},{default:n(()=>[(Y(!0),at(Tt,null,Ct(ne(b),t=>(Y(),ge(z,{key:t.id,class:$t({highlight:t.highlight})},{default:n(()=>[l(L,{avatar:""},{default:n(()=>[l(rt,null,{default:n(()=>[l(lt,{hash:t.id},null,8,["hash"])]),_:2},1024)]),_:2},1024),l(L,null,{default:n(()=>[l(Fe,{lines:"1",style:{"text-overflow":"ellipsis",width:"5em"}},{default:n(()=>[T(ot(t.id),1)]),_:2},1024),l(Fe,{class:"conversation__summary",caption:""},{default:n(()=>[l(oe,{name:"check"}),na]),_:1})]),_:2},1024),l(L,{side:""},{default:n(()=>[l(oe,{name:"keyboard_arrow_down",style:{cursor:"pointer"}}),l(Oe,{"auto-close":"",offset:[-18,-8]},{default:n(()=>[l(_e,{style:{"min-width":"150px"}},{default:n(()=>[l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[ra]),_:1})]),_:1}),l(z,{clickable:"",onClick:u=>c.$navigator.clipboard.writeText(t.id)},{default:n(()=>[l(L,null,{default:n(()=>[ia]),_:1})]),_:2},1032,["onClick"]),l(Lt,{class:"q-my-xs"}),l(z,{clickable:""},{default:n(()=>[l(L,{onClick:u=>ne(la)(t.id)},{default:n(()=>[ua]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),_:1}))}});var da=tt(sa,[["__scopeId","data-v-2168ff50"]]),ca=M({name:"QTooltip",inheritAttrs:!1,props:{...Et,...Ue,...Bt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ie},self:{type:String,default:"top middle",validator:Ie},offset:{type:Array,default:()=>[14,14],validator:Nt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Je],setup(e,{slots:b,emit:c,attrs:s}){let t,u;const p=K(),{proxy:{$q:w}}=p,x=S(null),o=S(!1),V=i(()=>Me(e.anchor,w.lang.rtl)),W=i(()=>Me(e.self,w.lang.rtl)),Q=i(()=>e.persistent!==!0),{registerTick:m,removeTick:$}=Ot(),{registerTimeout:_,removeTimeout:v}=Ke(),{transition:H,transitionStyle:d}=Pt(e,o),{localScrollTarget:q,changeScrollEvent:f,unconfigureScrollTarget:r}=jt(e,se),{anchorEl:g,canShow:D,anchorEvents:B}=Ut({showing:o,configureAnchorEl:pe}),{show:O,hide:F}=Ge({showing:o,canShow:D,handleShow:ue,handleHide:G,hideOnRouteChange:Q,processOnMount:!0});Object.assign(B,{delayShow:J,delayHide:we});const{showPortal:Z,hidePortal:R,renderPortal:ee}=Qt(p,x,ke);if(w.platform.is.mobile===!0){const C={anchorEl:g,innerRef:x,onClickOutside(N){return F(N),N.target.classList.contains("q-dialog__backdrop")&&Ht(N),!0}},te=i(()=>e.modelValue===null&&e.persistent!==!0&&o.value===!0);y(te,N=>{(N===!0?Kt:Re)(C)}),le(()=>{Re(C)})}function ue(C){$(),v(),Z(),m(()=>{u=new MutationObserver(()=>E()),u.observe(x.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),E(),se()}),t===void 0&&(t=y(()=>w.screen.width+"|"+w.screen.height+"|"+e.self+"|"+e.anchor+"|"+w.lang.rtl,E)),_(()=>{Z(!0),c("show",C)},e.transitionDuration)}function G(C){$(),v(),R(),X(),_(()=>{R(!0),c("hide",C)},e.transitionDuration)}function X(){u!==void 0&&(u.disconnect(),u=void 0),t!==void 0&&(t(),t=void 0),r(),He(B,"tooltipTemp")}function E(){const C=x.value;g.value===null||!C||Jt({el:C,offset:e.offset,anchorEl:g.value,anchorOrigin:V.value,selfOrigin:W.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function J(C){if(w.platform.is.mobile===!0){Ae(),document.body.classList.add("non-selectable");const te=g.value,N=["touchmove","touchcancel","touchend","click"].map(ce=>[te,ce,"delayHide","passiveCapture"]);De(B,"tooltipTemp",N)}_(()=>{O(C)},e.delay)}function we(C){v(),w.platform.is.mobile===!0&&(He(B,"tooltipTemp"),Ae(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),_(()=>{F(C)},e.hideDelay)}function pe(){if(e.noParentEvent===!0||g.value===null)return;const C=w.platform.is.mobile===!0?[[g.value,"touchstart","delayShow","passive"]]:[[g.value,"mouseenter","delayShow","passive"],[g.value,"mouseleave","delayHide","passive"]];De(B,"anchor",C)}function se(){if(g.value!==null||e.scrollTarget!==void 0){q.value=Vt(g.value,e.scrollTarget);const C=e.noParentEvent===!0?E:F;f(q.value,C)}}function de(){return o.value===!0?k("div",{...s,ref:x,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",s.class],style:[s.style,d.value],role:"complementary"},re(b.default)):null}function ke(){return k(Wt,{name:H.value,appear:!0},de)}return le(X),Object.assign(p.proxy,{updatePosition:E}),ee}}),fa=M({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:b,emit:c}){const{proxy:{$q:s}}=K(),t=be(ie,()=>{console.error("QHeader needs to be child of QLayout")}),u=S(parseInt(e.heightHint,10)),p=S(!0),w=i(()=>e.reveal===!0||t.view.value.indexOf("H")>-1||s.platform.is.ios&&t.isContainer.value===!0),x=i(()=>{if(e.modelValue!==!0)return 0;if(w.value===!0)return p.value===!0?u.value:0;const d=u.value-t.scroll.value.position;return d>0?d:0}),o=i(()=>e.modelValue!==!0||w.value===!0&&p.value!==!0),V=i(()=>e.modelValue===!0&&o.value===!0&&e.reveal===!0),W=i(()=>"q-header q-layout__section--marginal "+(w.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(o.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),Q=i(()=>{const d=t.rows.value.top,q={};return d[0]==="l"&&t.left.space===!0&&(q[s.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),d[2]==="r"&&t.right.space===!0&&(q[s.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),q});function m(d,q){t.update("header",d,q)}function $(d,q){d.value!==q&&(d.value=q)}function _({height:d}){$(u,d),m("size",d)}function v(d){V.value===!0&&$(p,!0),c("focusin",d)}y(()=>e.modelValue,d=>{m("space",d),$(p,!0),t.animate()}),y(x,d=>{m("offset",d)}),y(()=>e.reveal,d=>{d===!1&&$(p,e.modelValue)}),y(p,d=>{t.animate(),c("reveal",d)}),y(t.scroll,d=>{e.reveal===!0&&$(p,d.direction==="up"||d.position<=e.revealOffset||d.position-d.inflectionPoint<100)});const H={};return t.instances.header=H,e.modelValue===!0&&m("size",u.value),m("space",e.modelValue),m("offset",x.value),le(()=>{t.instances.header===H&&(t.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const d=At(b.default,[]);return e.elevated===!0&&d.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),d.push(k(me,{debounce:0,onResize:_})),k("header",{class:W.value,style:Q.value,onFocusin:v},d)}}});const va=e=>(Dt("data-v-20277ba0"),e=e(),Ft(),e),ha=va(()=>Be("div",{class:"text-overline"},"Copy own ID",-1)),ma={class:"q-subtitle-1 q-pl-md"},ga=T("Contact data"),_a=T("Block"),ba=T("Select messages"),ya=T("Silence"),wa=T("Clear messages"),pa=T("Erase messages"),ka=ye({__name:"MeHeader",emits:["toggle-left-drawer"],setup(e){function b(){navigator.clipboard.writeText(Te.value);const c=document.querySelector(".copy-id-tooltip div");c&&(c.textContent+=" \u2714")}return(c,s)=>(Y(),ge(fa,{elevated:""},{default:n(()=>[l(he,null,{default:n(()=>[l(I,{round:"",flat:"",icon:"keyboard_arrow_left",class:"WAL__drawer-open q-mr-sm",onClick:s[0]||(s[0]=t=>c.$emit("toggle-left-drawer"))}),l(I,{round:"",flat:"",onClick:b},{default:n(()=>[l(rt,null,{default:n(()=>[l(lt,{hash:ne(Te)},null,8,["hash"])]),_:1}),l(ca,{class:"copy-id-tooltip"},{default:n(()=>[ha]),_:1})]),_:1}),Be("span",ma,ot(ne(Te)),1),l(nt),l(I,{round:"",flat:"",icon:"search"}),l(I,{round:"",flat:""},{default:n(()=>[l(oe,{name:"attachment",class:"rotate-135"})]),_:1}),l(I,{round:"",flat:"",icon:"more_vert"},{default:n(()=>[l(Oe,{"auto-close":"",offset:[110,0],class:"bg-dark-0-"},{default:n(()=>[l(_e,{style:{"min-width":"150px"}},{default:n(()=>[l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[ga]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[_a]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[ba]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[ya]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[wa]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[pa]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});var xa=tt(ka,[["__scopeId","data-v-20277ba0"]]);const Sa=Be("div",{class:"text-h6",style:{"font-family":"sans-serif","user-select":"none"}}," W\u039BVE ",-1),qa=T("New group"),Ca=T("Profile"),$a=T("Archived"),La=T("Favorites"),Ta=T("Settings"),za=T("Logout"),Qa=ye({__name:"MainLayout",setup(e){const b=It(),c=S(!1),s=S(""),t=i(()=>({height:b.screen.height+"px"}));function u(){c.value=!c.value}return(p,w)=>{const x=Mt("router-view");return Y(),at("div",{class:"WAL position-relative",style:Rt(ne(t))},[l(ea,{view:"lHh Lpr lFf",class:"WAL__layout shadow-3",container:""},{default:n(()=>[l(xa,{onToggleLeftDrawer:u,class:"bg-dark-alt-2"}),l(Xt,{modelValue:c.value,"onUpdate:modelValue":w[0]||(w[0]=o=>c.value=o),"show-if-above":"",breakpoint:690},{default:n(()=>[l(he,null,{default:n(()=>[Sa,l(nt),l(I,{round:"",flat:"",icon:"message"}),l(I,{round:"",flat:"",icon:"more_vert"},{default:n(()=>[l(Oe,{"auto-close":"",offset:[110,8]},{default:n(()=>[l(_e,{style:{"min-width":"150px"}},{default:n(()=>[l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[qa]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[Ca]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[$a]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[La]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[Ta]),_:1})]),_:1}),l(z,{clickable:""},{default:n(()=>[l(L,null,{default:n(()=>[za]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(I,{round:"",flat:"",icon:"close",class:"WAL__drawer-close",onClick:u})]),_:1}),l(he,null,{default:n(()=>[l(oa)]),_:1}),l(da)]),_:1},8,["modelValue"]),l(Yt,{class:"dark-transparent"},{default:n(()=>[l(x)]),_:1}),l(Zt,null,{default:n(()=>[l(he,{class:"row bg-dark-alt"},{default:n(()=>[l(I,{round:"",flat:"",icon:"insert_emoticon",class:"q-mr-sm"}),l(et,{rounded:"",outlined:"",dense:"",class:"WAL__field col-grow q-mr-sm",modelValue:s.value,"onUpdate:modelValue":w[1]||(w[1]=o=>s.value=o),placeholder:"Type a message"},null,8,["modelValue"]),l(I,{round:"",flat:"",icon:"mic"})]),_:1})]),_:1})]),_:1})],4)}}});export{Qa as default};
